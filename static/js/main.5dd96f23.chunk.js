(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{326:function(e,t,a){e.exports=a(588)},331:function(e,t,a){},403:function(e,t,a){},588:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),l=a.n(o),s=(a(331),a(24)),i=a(23),c=a(26),u=a(25),m=a(27),d=a(106),h=(a(109),a(103)),p=a.n(h),f=a(16),g=a.n(f),C=a(230),b=(a(336),C.initializeApp({apiKey:"AIzaSyA9tIBS5gmrkOktignuJAbjO5UGuoADpLY",authDomain:"personal-trainer-db.firebaseapp.com",databaseURL:"https://personal-trainer-db.firebaseio.com",projectId:"personal-trainer-db",storageBucket:"personal-trainer-db.appspot.com",messagingSenderId:"171534008342",appId:"1:171534008342:web:9c77343a3dac8311"})),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).loadTrainings=function(){fetch("http://customerrest.herokuapp.com/gettrainings").then(function(e){return e.json()}).then(function(e){return a.setState({trainings:e})}).catch(function(e){return console.error(e)})},a.deleteTraining=function(e){window.confirm("Are you sure?")&&fetch("https://customerrest.herokuapp.com/api/trainings/"+e,{method:"DELETE"}).then(function(e){return a.setState({open:!0,message:"Training deleted"})}).then(function(e){return a.loadTrainings()}).catch(function(e){return console.error(e)})},a.state={trainings:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadTrainings()}},{key:"render",value:function(){var e=this,t=[{Header:"Schedule",accessor:"date",Cell:function(e){return r.a.createElement(p.a,{format:"DD.MM.YYYY - HH:MM"},e.value)}},{Header:"Duration in minutes",accessor:"duration"},{Header:"Activity",accessor:"activity"},{Header:"Customer",accessor:"customer",Cell:function(e){var t=e.value;return r.a.createElement("div",null,r.a.createElement("span",{className:"firstName"},t.firstname," "),r.a.createElement("span",{className:"lastName"},t.lastname))}},{Header:"",filterable:!1,sortable:!1,width:100,accessor:"id",Cell:function(t){var a=t.value;return r.a.createElement(g.a,{color:"secondary",onClick:function(){return e.deleteTraining(a)}},"Delete")}}];return r.a.createElement("div",null,r.a.createElement(g.a,{color:"secondary",onClick:function(){return b.auth().signOut()}},"Sign out"),r.a.createElement(d.a,{data:this.state.trainings,columns:t,filterable:!0}))}}]),t}(n.Component),v=(a(403),a(31)),y=function(e){return r.a.createElement("div",null,r.a.createElement(v.b,{to:"/"}," Home "),r.a.createElement(v.b,{to:"/customerlist"}," Customer "),r.a.createElement(v.b,{to:"/trainings"},"Trainings"),r.a.createElement(v.b,{to:"/calendar"},"Calendar"))},O=a(60),j=a(20),k=a.n(j),w=a(42),S=a.n(w),T=a(45),D=a.n(T),A=a(44),W=a.n(A),H=a(43),P=a.n(H),x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleChange=function(e){a.setState(Object(O.a)({},e.target.id,e.target.value))},a.addCustomer=function(){var e={firstname:a.state.firstname,lastname:a.state.lastname,streetaddress:a.state.streetaddress,postcode:a.state.postcode,city:a.state.city,email:a.state.email,phone:a.state.phone};a.props.saveCustomer(e),a.handleClose()},a.state={open:!1,firstname:"",lastname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(P.a,{id:"form-dialog-title"},"Add new Customer"),r.a.createElement(W.a,null,r.a.createElement(k.a,{onChange:this.handleChange,margin:"dense",id:"firstname",label:"Firstname",fullWidth:!0}),r.a.createElement(k.a,{onChange:this.handleChange,margin:"dense",id:"lastname",label:"Lastname",fullWidth:!0}),r.a.createElement(k.a,{onChange:this.handleChange,margin:"dense",id:"streetaddress",label:"Address",fullWidth:!0}),r.a.createElement(k.a,{onChange:this.handleChange,margin:"dense",id:"postcode",label:"Postcode",type:"number",fullWidth:!0}),r.a.createElement(k.a,{onChange:this.handleChange,margin:"dense",id:"city",label:"City",fullWidth:!0}),r.a.createElement(k.a,{onChange:this.handleChange,margin:"dense",id:"email",label:"Email",fullWidth:!0}),r.a.createElement(k.a,{onChange:this.handleChange,margin:"dense",id:"phone",label:"Phone number",type:"number",fullWidth:!0})),r.a.createElement(D.a,null,r.a.createElement(g.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(g.a,{onClick:this.addCustomer,color:"primary"},"Save"))),r.a.createElement(g.a,{onClick:this.handleClickOpen,color:"primary"},"ADD CUSTOMER"," "))}}]),t}(n.Component),L=a(233),U=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleClickOpen=function(){a.setState({open:!0,firstname:a.props.customer.firstname,lastname:a.props.customer.lastname,streetaddress:a.props.customer.streetaddress,postcode:a.props.customer.postcode,city:a.props.customer.city,email:a.props.customer.email,phone:a.props.customer.phone})},a.handleClose=function(){a.setState({open:!1})},a.handleChange=function(e){a.setState(Object(O.a)({},e.target.id,e.target.value))},a.updateCustomer=function(){var e={firstname:a.state.firstname,lastname:a.state.lastname,streetaddress:a.state.streetaddress,postcode:a.state.postcode,city:a.state.city,email:a.state.email,phone:a.state.phone};a.props.updateCustomer(a.props.link,e),a.handleClose()},a.state={open:!1,firstname:"",lastname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(P.a,{id:"form-dialog-title"},"Edit Customer"),r.a.createElement(W.a,null,r.a.createElement(k.a,{onChange:this.handleChange,autoFocus:!0,margin:"dense",id:"firstname",label:"Firstname",value:this.state.firstname,fullWidth:!0}),r.a.createElement(k.a,{onChange:this.handleChange,margin:"dense",id:"lastname",label:"Lastname",value:this.state.lastname,fullWidth:!0}),r.a.createElement(k.a,{onChange:this.handleChange,margin:"dense",id:"streetaddress",label:"Address",value:this.state.streetaddress,fullWidth:!0}),r.a.createElement(k.a,{onChange:this.handleChange,margin:"dense",id:"postcode",label:"Postcode",type:"number",value:this.state.postcode,fullWidth:!0}),r.a.createElement(k.a,{onChange:this.handleChange,margin:"dense",id:"city",label:"City",value:this.state.city,fullWidth:!0}),r.a.createElement(k.a,{onChange:this.handleChange,margin:"dense",id:"email",label:"Email",value:this.state.email,fullWidth:!0}),r.a.createElement(k.a,{onChange:this.handleChange,margin:"dense",id:"phone",label:"Phone number",type:"number",value:this.state.phone,fullWidth:!0})),r.a.createElement(D.a,null,r.a.createElement(g.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(g.a,{onClick:this.updateCustomer,color:"primary"},"Save"))),r.a.createElement(g.a,{onClick:this.handleClickOpen,variant:"contained",color:"primary"},"EDIT"," "))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleClickOpen=function(){a.setState({open:!0,date:"",duration:"",activity:"",customer:a.props.customer._original.links[0].href}),console.log(a.props.customer)},a.handleClose=function(){a.setState({open:!1})},a.handleChange=function(e){a.setState(Object(O.a)({},e.target.id,e.target.value))},a.addTraining=function(){var e={date:new Date(a.state.date),duration:a.state.duration,activity:a.state.activity,customer:a.state.customer};a.props.saveTraining(e),a.handleClose()},a.state={open:!1,date:"",duration:"",activity:"",customer:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(P.a,{id:"form-dialog-title"},"Add Training"),r.a.createElement(W.a,null,r.a.createElement(k.a,{onChange:this.handleChange,autoFocus:!0,margin:"dense",id:"date",type:"datetime-local",label:"Schedule",value:this.state.date,fullWidth:!0}),r.a.createElement(k.a,{onChange:this.handleChange,margin:"dense",id:"duration",label:"Duration in minutes",value:this.state.duration,fullWidth:!0}),r.a.createElement(k.a,{onChange:this.handleChange,margin:"dense",id:"activity",label:"Activity",value:this.state.activity,fullWidth:!0}),r.a.createElement(k.a,{onChange:this.handleChange,margin:"dense",id:"customer",label:"Customer Info",value:this.state.customer,fullWidth:!0})),r.a.createElement(D.a,null,r.a.createElement(g.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(g.a,{onClick:this.addTraining,color:"primary"},"Save"))),r.a.createElement(g.a,{onClick:this.handleClickOpen,variant:"contained"},"ADD TRAINING"," "))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).loadCustomers=function(){fetch("https://customerrest.herokuapp.com/api/customers").then(function(e){return e.json()}).then(function(e){return a.setState({customers:e.content})}).catch(function(e){return console.error(e)})},a.deleteCustomer=function(e){window.confirm("Are you sure?")&&fetch(e.original.links[0].href,{method:"DELETE"}).then(function(e){return a.loadCustomers()}).then(function(e){return a.setState({open:!0,message:"Customer deleted"})}).catch(function(e){return console.error(e)})},a.saveCustomer=function(e){fetch("https://customerrest.herokuapp.com/api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return a.loadCustomers()}).then(function(e){return a.setState({open:!0,message:"Added new customer"})}).catch(function(e){return console.error(e)})},a.saveTraining=function(e){fetch("https://customerrest.herokuapp.com/api/trainings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return a.setState({open:!0,message:"Added new training"})}).catch(function(e){return console.error(e)})},a.updateCustomer=function(e,t){fetch(e,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return a.loadCustomers()}).then(function(e){return a.setState({open:!0,message:"Updated new customer"})}).catch(function(e){return console.error(e)})},a.handleClose=function(){a.setState({open:!1})},a.state={customers:[],message:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadCustomers()}},{key:"render",value:function(){var e=this,t=[{Header:"ID number",accessor:"links[0].href",Cell:function(e){return e.value.replace(/[\D]/g,"")}},{Header:"Firstname",accessor:"firstname"},{Header:"Lastname",accessor:"lastname"},{Header:"Address",accessor:"streetaddress"},{Header:"Postcode",accessor:"postcode"},{Header:"Email",accessor:"email"},{Header:"Phone",accessor:"phone"},{Header:"City",accessor:"city"},{Header:"",accessor:"links[0].href",filterable:"false",sortable:"false",width:100,Cell:function(t){var a=t.value,n=t.row;return r.a.createElement(U,{updateCustomer:e.updateCustomer,link:a,customer:n})}},{Header:"",accessor:"links[0].href",filterable:"false",sortable:"false",width:150,Cell:function(t){var a=t.value,n=t.row;return r.a.createElement(I,{saveTraining:e.saveTraining,link:a,customer:n})}},{Header:"",accessor:"links[0].href",width:100,Cell:function(t){return r.a.createElement(g.a,{variant:"contained",color:"secondary",onClick:function(){return e.deleteCustomer(t)}},"Delete")}}];return r.a.createElement("div",null,r.a.createElement(g.a,{color:"secondary",onClick:function(){return b.auth().signOut()}},"Sign out"),r.a.createElement(x,{saveCustomer:this.saveCustomer}),r.a.createElement(d.a,{data:this.state.customers,columns:t,filterable:!0}),r.a.createElement(L.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.open,autoHideDuration:3e3,onClose:this.handleClose,ContentProps:{"aria-describedby":"message-id"},message:this.state.message}))}}]),t}(n.Component),N=a(28),F=a(170),J=a(162),z=a.n(J),Y=(a(585),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).loadTrainings=function(){fetch("http://customerrest.herokuapp.com/gettrainings").then(function(e){return e.json()}).then(function(e){a.setState({trainings:e});for(var t=[],n=Object.values(e),r=null,o=null,l=0;l<n.length;l++)if(null!=n[l].date)try{r=new Date(n[l].date),(o=new Date(n[l].date)).setUTCMinutes(r.getUTCMinutes()+n[l].duration),t.push({title:n[l].activity,start:r,end:o})}catch(s){console.error(s)}console.log(t),a.setState({eventList:t})}).catch(function(e){return console.error(e)})},a.state={trainings:[],eventList:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadTrainings()}},{key:"render",value:function(){var e=F.a.momentLocalizer(z.a);return r.a.createElement("div",null,r.a.createElement(g.a,{color:"secondary",onClick:function(){return b.auth().signOut()}},"Sign out"),r.a.createElement(F.a,{localizer:e,events:this.state.eventList,startAccessor:"start",endAccessor:"end",style:{height:500,width:this.state.width}}))}}]),t}(n.Component)),B=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Personal Training Website"),r.a.createElement("h2",null,"Final project"),r.a.createElement("p",null,"Course: Frontend Programming"),r.a.createElement("p",null,"Teacher: Juha Hinkula"),r.a.createElement("p",null,r.a.createElement(v.b,{to:"/login",style:{textDecoration:"none"}},r.a.createElement(g.a,{variant:"contained",color:"secondary"},"Log in"))),r.a.createElement(v.b,{to:"/signup",style:{textDecoration:"none"}},r.a.createElement(g.a,{variant:"contained",color:"primary"},"Sign Up")))},R=a(251),G=r.a.createContext(),K=function(e){var t=e.children,a=Object(n.useState)(null),o=Object(R.a)(a,2),l=o[0],s=o[1];return Object(n.useEffect)(function(){b.auth().onAuthStateChanged(s)},[]),r.a.createElement(G.Provider,{value:{currentUser:l}},t)},$=a(61),_=a.n($),q=a(105),Q=Object(N.f)(function(e){var t=e.history,a=Object(n.useCallback)(function(){var e=Object(q.a)(_.a.mark(function e(a){var n,r,o;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=a.target.elements,r=n.email,o=n.password,e.prev=2,e.next=5,b.auth().signInWithEmailAndPassword(r.value,o.value);case 5:t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(n.useContext)(G).currentUser?r.a.createElement(N.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Log in"),r.a.createElement("form",{onSubmit:a},r.a.createElement("label",null,"Email",r.a.createElement("input",{name:"email",type:"email",placeholder:"Email"})),r.a.createElement("label",null,"Password",r.a.createElement("input",{name:"password",type:"password",placeholder:"Password"})),r.a.createElement("button",{type:"submit"},"Log in")))}),V=Object(N.f)(function(e){var t=e.history,a=Object(n.useCallback)(function(){var e=Object(q.a)(_.a.mark(function e(a){var n,r,o;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=a.target.elements,r=n.email,o=n.password,e.prev=2,e.next=5,b.auth().createUserWithEmailAndPassword(r.value,o.value);case 5:t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),[t]);return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign up"),r.a.createElement("form",{onSubmit:a},r.a.createElement("label",null,"Email",r.a.createElement("input",{name:"email",type:"email",placeholder:"Email"})),r.a.createElement("label",null,"Password",r.a.createElement("input",{name:"password",type:"password",placeholder:"Password"})),r.a.createElement("button",{type:"submit"},"Sign Up")))}),X=a(250),Z=function(e){var t=e.component,a=Object(X.a)(e,["component"]),o=Object(n.useContext)(G).currentUser;return r.a.createElement(N.b,Object.assign({},a,{render:function(e){return o?r.a.createElement(t,e):r.a.createElement(N.a,{to:"/login"})}}))},ee="";ee="https://ashleynguci.github.io/personal-trainer-db/";var te=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(K,null,r.a.createElement(v.a,{basename:ee},r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement(N.d,null,r.a.createElement(N.b,{exact:!0,path:"/",component:B}),r.a.createElement(Z,{exact:!0,path:"/customerlist",component:M}),r.a.createElement(N.b,{exact:!0,path:"/login",component:Q}),r.a.createElement(N.b,{exact:!0,path:"/signup",component:V}),r.a.createElement(Z,{exact:!0,path:"/trainings",component:E}),r.a.createElement(Z,{exact:!0,path:"/calendar",component:Y}))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[326,1,2]]]);
//# sourceMappingURL=main.5dd96f23.chunk.js.map